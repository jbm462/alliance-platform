"use strict";(()=>{var e={};e.id=2,e.ids=[2],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6555:e=>{e.exports=import("uuid")},2053:(e,t,o)=>{o.a(e,async(e,r)=>{try{o.r(t),o.d(t,{config:()=>u,default:()=>l,routeModule:()=>c});var a=o(1802),s=o(7153),n=o(6249),i=o(612),d=e([i]);i=(d.then?(await d)():d)[0];let l=(0,n.l)(i,"default"),u=(0,n.l)(i,"config"),c=new a.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/workflows/[id]",pathname:"/api/workflows/[id]",bundlePath:"",filename:""},userland:i});r()}catch(e){r(e)}})},612:(e,t,o)=>{o.a(e,async(e,r)=>{try{o.r(t),o.d(t,{default:()=>handler});var a=o(6555),s=e([a]);a=(s.then?(await s)():s)[0];let n=[{id:"demo-workflow-1",title:"Content Creation Workflow",description:"A workflow for creating blog posts with AI assistance",author_id:"demo-user-123",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),version:"1.0",version_notes:"Initial version",is_public:!0,category:"content",steps:[{id:"step-1",workflow_id:"demo-workflow-1",order_index:0,type:"ai",label:"Generate Topic Ideas",system_prompt:"You are a content strategist. Generate 5 engaging blog post topics.",user_prompt:"Generate topics for a tech blog about AI and productivity.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"step-2",workflow_id:"demo-workflow-1",order_index:1,type:"human",label:"Review and Select Topic",instructions:"Review the generated topics and select the most promising one.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]},{id:"demo-workflow-2",title:"Process Taxonomy Creation",description:"Workflow for creating a standard common process framework taxonomy for baseline purposes",author_id:"demo-user-123",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),version:"1.0",version_notes:"Initial version",is_public:!0,category:"business",steps:[{id:"step-1",workflow_id:"demo-workflow-2",order_index:0,type:"human",label:"Indicate the sector / industry",instructions:"Specify the industry sector for the taxonomy framework.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"step-2",workflow_id:"demo-workflow-2",order_index:1,type:"ai",label:"Pull APQC of said sector / industry and function",system_prompt:"You are a business process expert. Analyze the APQC framework for the specified industry.",user_prompt:"Provide APQC process categories for the specified industry sector.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"step-3",workflow_id:"demo-workflow-2",order_index:2,type:"human",label:"Share any client business process documentation",instructions:"Upload or provide any existing business process documentation from the client.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"step-4",workflow_id:"demo-workflow-2",order_index:3,type:"ai",label:"Tailor taxonomy to the client and indicate any key nuances to consider",system_prompt:"You are a business process consultant. Create a customized taxonomy based on APQC and client documentation.",user_prompt:"Create a tailored process taxonomy that incorporates client-specific nuances and requirements.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"step-5",workflow_id:"demo-workflow-2",order_index:4,type:"ai",label:"Create question set and focus process areas for human to leverage in client discussion",system_prompt:"You are a business consultant. Create strategic questions for client engagement.",user_prompt:"Generate a comprehensive question set for client discussions about process areas.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]}];async function handler(e,t){let{id:o}=e.query;if("GET"===e.method)try{let e=n.find(e=>e.id===o);if(!e)return t.status(404).json({message:"Workflow not found"});return t.status(200).json(e)}catch(e){return console.error("Error fetching workflow:",e),t.status(500).json({message:"Failed to fetch workflow"})}if("PUT"===e.method)try{let{title:r,description:s,steps:i,version:d,versionNotes:l}=e.body;if(!r||!s||!i||!Array.isArray(i))return t.status(400).json({message:"Invalid workflow data"});let u=n.findIndex(e=>e.id===o);if(-1===u)return t.status(404).json({message:"Workflow not found"});let c=new Date().toISOString();return n[u]={...n[u],title:r,description:s,updated_at:c,version:d||"1.0",version_notes:l||"",steps:i.map((e,t)=>({id:e.id||(0,a.v4)(),workflow_id:o,order_index:t,type:e.type,label:e.label,system_prompt:e.systemPrompt||void 0,user_prompt:e.userPrompt||void 0,instructions:e.instructions||void 0,created_at:e.created_at||c,updated_at:c}))},t.status(200).json(n[u])}catch(e){return console.error("Error updating workflow:",e),t.status(500).json({message:"Failed to update workflow"})}if("DELETE"===e.method)try{let e=n.findIndex(e=>e.id===o);if(-1===e)return t.status(404).json({message:"Workflow not found"});return n.splice(e,1),t.status(200).json({message:"Workflow deleted successfully"})}catch(e){return console.error("Error deleting workflow:",e),t.status(500).json({message:"Failed to delete workflow"})}return t.status(405).json({message:"Method not allowed"})}r()}catch(e){r(e)}})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),o=t.X(0,[222],()=>__webpack_exec__(2053));module.exports=o})();