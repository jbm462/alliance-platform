"use strict";(()=>{var e={};e.id=991,e.ids=[991],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6555:e=>{e.exports=import("uuid")},617:(e,t,o)=>{o.a(e,async(e,r)=>{try{o.r(t),o.d(t,{config:()=>u,default:()=>c,routeModule:()=>p});var a=o(1802),s=o(7153),n=o(6249),i=o(9522),d=e([i]);i=(d.then?(await d)():d)[0];let c=(0,n.l)(i,"default"),u=(0,n.l)(i,"config"),p=new a.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/workflows",pathname:"/api/workflows",bundlePath:"",filename:""},userland:i});r()}catch(e){r(e)}})},9522:(e,t,o)=>{o.a(e,async(e,r)=>{try{o.r(t),o.d(t,{default:()=>handler});var a=o(6555),s=e([a]);a=(s.then?(await s)():s)[0];let n=[{id:"demo-workflow-1",title:"Content Creation Workflow",description:"A workflow for creating blog posts with AI assistance",author_id:"demo-user-123",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),version:"1.0",version_notes:"Initial version",is_public:!0,category:"content",steps:[{id:"step-1",workflow_id:"demo-workflow-1",order_index:0,type:"ai",label:"Generate Topic Ideas",system_prompt:"You are a content strategist. Generate 5 engaging blog post topics.",user_prompt:"Generate topics for a tech blog about AI and productivity.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"step-2",workflow_id:"demo-workflow-1",order_index:1,type:"human",label:"Review and Select Topic",instructions:"Review the generated topics and select the most promising one.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]},{id:"demo-workflow-2",title:"Process Taxonomy Creation",description:"Workflow for creating a standard common process framework taxonomy for baseline purposes",author_id:"demo-user-123",created_at:new Date().toISOString(),updated_at:new Date().toISOString(),version:"1.0",version_notes:"Initial version",is_public:!0,category:"business",steps:[{id:"step-1",workflow_id:"demo-workflow-2",order_index:0,type:"human",label:"Indicate the sector / industry",instructions:"Specify the industry sector for the taxonomy framework.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"step-2",workflow_id:"demo-workflow-2",order_index:1,type:"ai",label:"Pull APQC of said sector / industry and function",system_prompt:"You are a business process expert. Analyze the APQC framework for the specified industry.",user_prompt:"Provide APQC process categories for the specified industry sector.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"step-3",workflow_id:"demo-workflow-2",order_index:2,type:"human",label:"Share any client business process documentation",instructions:"Upload or provide any existing business process documentation from the client.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"step-4",workflow_id:"demo-workflow-2",order_index:3,type:"ai",label:"Tailor taxonomy to the client and indicate any key nuances to consider",system_prompt:"You are a business process consultant. Create a customized taxonomy based on APQC and client documentation.",user_prompt:"Create a tailored process taxonomy that incorporates client-specific nuances and requirements.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{id:"step-5",workflow_id:"demo-workflow-2",order_index:4,type:"ai",label:"Create question set and focus process areas for human to leverage in client discussion",system_prompt:"You are a business consultant. Create strategic questions for client engagement.",user_prompt:"Generate a comprehensive question set for client discussions about process areas.",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]}];async function handler(e,t){if("GET"===e.method)try{return t.status(200).json(n)}catch(e){return console.error("Error fetching workflows:",e),t.status(500).json({message:"Failed to fetch workflows"})}if("POST"===e.method)try{let{title:o,description:r,steps:s,version:i,versionNotes:d,authorId:c}=e.body;if(!o||!r||!s||!Array.isArray(s))return t.status(400).json({message:"Invalid workflow data"});let u=(0,a.v4)(),p=new Date().toISOString(),l={id:u,title:o,description:r,author_id:c||"demo-user-123",created_at:p,updated_at:p,version:i||"1.0",version_notes:d||"",is_public:!1,category:"custom",steps:s.map((e,t)=>({id:(0,a.v4)(),workflow_id:u,order_index:t,type:e.type,label:e.label,system_prompt:e.systemPrompt||void 0,user_prompt:e.userPrompt||void 0,instructions:e.instructions||void 0,created_at:p,updated_at:p}))};return n.unshift(l),t.status(201).json(l)}catch(e){return console.error("Error creating workflow:",e),t.status(500).json({message:"Failed to create workflow"})}return t.status(405).json({message:"Method not allowed"})}r()}catch(e){r(e)}})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),o=t.X(0,[222],()=>__webpack_exec__(617));module.exports=o})();